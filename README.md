# UE4Project: 던전 어비스 - 생존 탈출 게임

**던전 어비스**는 성에 갇힌 공주가 몬스터와 전투하며 탈출을 시도하는 3D 생존 액션 RPG입니다.

## 🎮 프로젝트 개요

- **장르**: 생존 액션 RPG
- **목표**: 성에 갇힌 공주가 몬스터와 전투하며 탈출을 시도하는 게임

### 주요 시스템
- **캠프파이어를 활용한 저장 및 요리**
- **몬스터와의 전투 및 보상 아이템 획득**
- **UI를 통한 플레이어 상태 관리**

---

## 👑 캐릭터 담당 팀원이 구현한 내용

- **스태미너 UI**
- **HP UI**
- **경험치 UI**
- **달리기**
- **연속 공격/인벤토리 시스템**
- **스킬 시스템**

---

## 🛠️ 내가 구현한 내용

1. **기본 WASD 이동 및 이동 애니메이션**
2. **가만히 있을 때 애니메이션 테스트**
3. **3인칭 카메라 고정**
   - `Set View Target with Blend` 함수 사용
4. **충돌체 추가**
   - 몬스터와의 데미지 처리 테스트를 위한 캐릭터 충돌체 추가
5. **상호작용 테스트**
   - 캐릭터가 `E` 키를 눌렀을 때 인터페이스 블루프린트를 통해 상호작용 구현
   - 캠프파이어 액터와의 상호작용 기능 테스트

---

## 🔥 구현된 주요 기능

### 1. 캠프파이어 시스템

#### 캠프파이어 상호작용 로직

- **Event On Interact**를 통해 작동
- 작동 순서:
  1. 게임 저장
  2. 요리 (Scalar Material로 5초 동안 재료가 점점 빨갛게 변함)
  3. 캠프파이어 제거
  4. UI에 텍스트 출력: "요리 완료" 메시지 출력 후 2.5초 뒤 Actor 제거

#### 저장 기능

- **Save Game 인스턴스**를 통해 `.SAV` 파일 생성
- **SideScrollSaveGame** 블루프린트에서 저장 및 불러오기 함수 구현
- 캠프파이어와 상호작용 시 저장 로직 연동

---

### 2. 몬스터 AI 및 전투 시스템

#### 몬스터 상태 관리

- **MonsterState Enum**을 사용하여 상태 관리:
  - `Idle_Ready`: 플레이어가 멀리 있을 때 기본 애니메이션 출력
  - `Idle_Combat`: 공격 범위에 접근하지 않은 상태에서 대기 애니메이션 출력
  - `FollowChar`: 플레이어가 이동 범위에 있을 때 추적
  - `Attack`: 플레이어 가까이 접근 시 공격 애니메이션 실행
  - `Death`: HP가 소진되면 죽는 애니메이션 실행 후 충돌체 비활성화

#### 몬스터 데미지 처리

- 몬스터가 데미지를 입으면 **Material Instance**를 사용하여 색상이 빨갛게 변함
- 몬스터 HP 감소 및 UI에 반영

#### 아이템 드랍

- 몬스터 사망 시 아이템 드랍 (빵[음식], 책[무기])

#### 애니메이션 구현

- **Idle**, **Follow**, **Attack**, **Death** 애니메이션 제작 및 블루프린트 연동

---

### 3. 저장 및 로드 시스템

#### 저장 로직

- **SideScrollSaveGame** 블루프린트로 저장 파일(.SAV) 생성
- 저장된 데이터는 캠프파이어와 상호작용 시 **Save 함수** 호출로 처리
- 레벨 전환 시 **SideScrollGameInstance**에서 로드 함수 실행

#### 메인 메뉴

- **MainMenu UI**: Options(미구현), Play, Quit 버튼 구현
- **MainMenuLevel** 블루프린트: 시작 화면에서 UI 출력, 캐릭터 조작 비활성화

---

## 🗺️ 맵 구성

1. **시작 화면** → **플레이 레벨**
2. 플레이 레벨에는 **몬스터 2마리**와 **캠프파이어** 설치
3. 플레이어는 몬스터와 전투 후 캠프파이어와 상호작용하여 저장, 요리, 캠프파이어 제거 진행

---

## 📁 주요 블루프린트 및 파일 구성

### Load_Save 폴더

- **SideScrollSaveGameBP**: 저장 인스턴스
- **SideScrollGameInstance**: 저장 및 로드 로직 관리
- **MainMenu Widget BP**: MainMenu UI 구현

### Campfire 폴더

- **CampfireActor**: 상호작용 및 UI 텍스트 변경 로직
- **Ham Material**: 요리 시 Material 색상 변경

### Monster 폴더

- **DefaultMonsterBP**: 몬스터 AI 및 상태 관리
- **DefaultMonsterAnimBP**: 몬스터 애니메이션 관리

---

## 🔜 추가 구현 예정

- **인벤토리 시스템**: 드랍된 아이템을 저장하고 활용할 수 있는 시스템 추가
- **스킬 시스템**: 플레이어가 사용할 수 있는 다양한 스킬 구현
- **옵션 메뉴**: 그래픽 및 사운드 설정을 포함한 옵션 메뉴 개발
